<h1 mat-dialog-title>{{data.type === 'transition' ? 'Transition' : 'Process'}} Permissions</h1>
<div mat-dialog-content>
    <div> Role Permissions
        <table mat-table #firstTableSort="matSort" matSort [dataSource]="dataSource" (matSortChange)="sortRoleRefs($event)" class="table-right-padding">
            <caption></caption>

            <!-- Id Column -->
            <ng-container matColumnDef="id">
                <th mat-header-cell id="id" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header"> Id
                </th>
                <td mat-cell *matCellDef="let element" fxFlex class="padding-table"> {{element.id}} </td>
            </ng-container>

            <!-- Perform Column -->
            <ng-container matColumnDef="perform" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="perform" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Perform
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.perform)"
                                  [indeterminate]="getIndeterminate(element.logic.perform)"
                                  (change)="setValue($event, element.id, 'perform')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.perform), 'checkbox-background-green': getChecked(element.logic.perform)}">
                        <span>{{stringValue(element.logic.perform)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Delegate Column -->
            <ng-container matColumnDef="delegate" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="delegate" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Delegate
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.delegate)"
                                  [indeterminate]="getIndeterminate(element.logic.delegate)"
                                  (change)="setValue($event, element.id, 'delegate')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.delegate), 'checkbox-background-green': getChecked(element.logic.delegate)}">
                        <span>{{stringValue(element.logic.delegate)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Cancel Column -->
            <ng-container matColumnDef="cancel" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="cancel" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Cancel
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.cancel)"
                                  [indeterminate]="getIndeterminate(element.logic.cancel)"
                                  (change)="setValue($event, element.id, 'cancel')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.cancel), 'checkbox-background-green': getChecked(element.logic.cancel)}">
                        <span>{{stringValue(element.logic.cancel)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Assign Column -->
            <ng-container matColumnDef="assign" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="assign" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Assign
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.assign)"
                                  [indeterminate]="getIndeterminate(element.logic.assign)"
                                  (change)="setValue($event, element.id, 'assign')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.assign), 'checkbox-background-green': getChecked(element.logic.assign)}">
                        <span>{{stringValue(element.logic.assign)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- View Column -->
            <ng-container matColumnDef="view" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="view" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    View
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.view)"
                                  [indeterminate]="getIndeterminate(element.logic.view)"
                                  (change)="setValue($event, element.id, 'view')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.view), 'checkbox-background-green': getChecked(element.logic.view)}">
                        <span>{{stringValue(element.logic.view)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Create Column -->
            <ng-container matColumnDef="create" *ngIf="data.type === 'process'">
                <th mat-header-cell id="create" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Create
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.caseLogic.create)"
                                  [indeterminate]="getIndeterminate(element.caseLogic.create)"
                                  (change)="setValue($event, element.id, 'create')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.caseLogic.create), 'checkbox-background-green': getChecked(element.caseLogic.create)}">
                        <span>{{stringValue(element.caseLogic.create)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Delete Column -->
            <ng-container matColumnDef="delete" *ngIf="data.type === 'process'">
                <th mat-header-cell id="delete" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Delete
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.caseLogic.delete)"
                                  [indeterminate]="getIndeterminate(element.caseLogic.delete)"
                                  (change)="setValue($event, element.id, 'delete')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.caseLogic.delete), 'checkbox-background-green': getChecked(element.caseLogic.delete)}">
                        <span>{{stringValue(element.caseLogic.delete)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Process View Column -->
            <ng-container matColumnDef="processView" *ngIf="data.type === 'process'">
                <th mat-header-cell id="processView" *matHeaderCellDef mat-sort-header fxFlex
                    class="padding-table-header">View
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.caseLogic.view)"
                                  [indeterminate]="getIndeterminate(element.caseLogic.view)"
                                  (change)="setValue($event, element.id, 'view')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.caseLogic.view), 'checkbox-background-green': getChecked(element.caseLogic.view)}">
                        <span>{{stringValue(element.caseLogic.view)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>

        <mat-paginator #matPaginator [pageSize]="defaultPageSize" [pageSizeOptions]="pageSizes"
                       showFirstLastButtons></mat-paginator>
    </div>
    <div> User List Permissions
        <table mat-table #secondTableSort="matSort" matSort [dataSource]="usersDataSource" (matSortChange)="sortUserRefs($event)" class="table-right-padding">
            <caption></caption>

            <!-- Id Column -->
            <ng-container matColumnDef="id">
                <th mat-header-cell id="id" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header"> Id
                </th>
                <td mat-cell *matCellDef="let element" fxFlex class="padding-table"> {{element.id}} </td>
            </ng-container>

            <!-- Perform Column -->
            <ng-container matColumnDef="perform" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="perform" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Perform
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.perform)"
                                  [indeterminate]="getIndeterminate(element.logic.perform)"
                                  (change)="setUserValue($event, element.id, 'perform')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.perform), 'checkbox-background-green': getChecked(element.logic.perform)}">
                        <span>{{stringValue(element.logic.perform)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Delegate Column -->
            <ng-container matColumnDef="delegate" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="delegate" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Delegate
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.delegate)"
                                  [indeterminate]="getIndeterminate(element.logic.delegate)"
                                  (change)="setUserValue($event, element.id, 'delegate')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.delegate), 'checkbox-background-green': getChecked(element.logic.delegate)}">
                        <span>{{stringValue(element.logic.delegate)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Cancel Column -->
            <ng-container matColumnDef="cancel" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="cancel" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Cancel
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.cancel)"
                                  [indeterminate]="getIndeterminate(element.logic.cancel)"
                                  (change)="setUserValue($event, element.id, 'cancel')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.cancel), 'checkbox-background-green': getChecked(element.logic.cancel)}">
                        <span>{{stringValue(element.logic.cancel)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Assign Column -->
            <ng-container matColumnDef="assign" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="assign" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Assign
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.assign)"
                                  [indeterminate]="getIndeterminate(element.logic.assign)"
                                  (change)="setUserValue($event, element.id, 'assign')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.assign), 'checkbox-background-green': getChecked(element.logic.assign)}">
                        <span>{{stringValue(element.logic.assign)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- View Column -->
            <ng-container matColumnDef="view" *ngIf="data.type === 'transition'">
                <th mat-header-cell id="view" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    View
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.logic.view)"
                                  [indeterminate]="getIndeterminate(element.logic.view)"
                                  (change)="setUserValue($event, element.id, 'view')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.logic.view), 'checkbox-background-green': getChecked(element.logic.view)}">
                        <span>{{stringValue(element.logic.view)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Create Column -->
            <ng-container matColumnDef="create" *ngIf="data.type === 'process'">
                <th mat-header-cell id="create" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Create
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.caseLogic.create)"
                                  [indeterminate]="getIndeterminate(element.caseLogic.create)"
                                  (change)="setUserValue($event, element.id, 'create')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.caseLogic.create), 'checkbox-background-green': getChecked(element.caseLogic.create)}">
                        <span>{{stringValue(element.caseLogic.create)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Delete Column -->
            <ng-container matColumnDef="delete" *ngIf="data.type === 'process'">
                <th mat-header-cell id="delete" *matHeaderCellDef mat-sort-header fxFlex class="padding-table-header">
                    Delete
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.caseLogic.delete)"
                                  [indeterminate]="getIndeterminate(element.caseLogic.delete)"
                                  (change)="setUserValue($event, element.id, 'delete')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.caseLogic.delete), 'checkbox-background-green': getChecked(element.caseLogic.delete)}">
                        <span>{{stringValue(element.caseLogic.delete)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <!-- Process View Column -->
            <ng-container matColumnDef="processView" *ngIf="data.type === 'process'">
                <th mat-header-cell id="processView" *matHeaderCellDef mat-sort-header fxFlex
                    class="padding-table-header"> View
                </th>
                <td mat-cell *matCellDef="let element" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <mat-checkbox fxLayoutAlign="start center" class="height-row"
                                  [checked]="getChecked(element.caseLogic.view)"
                                  [indeterminate]="getIndeterminate(element.caseLogic.view)"
                                  (change)="setUserValue($event, element.id, 'view')"
                                  [ngClass]="{'checkbox-background-warn': getIndeterminate(element.caseLogic.view), 'checkbox-background-green': getChecked(element.caseLogic.view)}">
                        <span>{{stringValue(element.caseLogic.view)}}</span>
                    </mat-checkbox>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="usersDisplayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: usersDisplayedColumns;"></tr>
        </table>

        <mat-paginator #matUserPaginator [pageSize]="defaultPageSize" [pageSizeOptions]="pageSizes"
                       showFirstLastButtons></mat-paginator>
    </div>
</div>
