<div id="canvas-wrapper" class="canvas-wrapper">
    <ngx-dropzone (change)="onDropZone($event)" multiple="false" accept=".xml" disableClick="true">
        <svg id="canvas" class="canvas"
             #canvas
             (contextmenu)="contextModelMenu($event)"
             (mousedown)="doMouseDown($event)"
             (mousemove)="doMouseMove($event)">
            <defs>
                <pattern id="canvas-grid" [attr.width]="size()" [attr.height]="size()" patternUnits="userSpaceOnUse">
                    <rect [attr.width]="size()" [attr.height]="size()" fill="white"/>
                    <path id="canvas-grid-path" [attr.d]="'M '+size()+' 0 L 0 0 0 '+size()" fill="none" [attr.stroke]="gridStroke()"
                          stroke-width="1"/>
                </pattern>
            </defs>
            <rect width="100%" height="100%" fill="url(#canvas-grid)"/>
        </svg>
    </ngx-dropzone>
</div>

<div id="ctxMenu" #ctxMenu>
    <div class="menuContent">
        <button mat-menu-item class="menuItem" (click)="openTaskConfigDialog()">
            <mat-icon>settings</mat-icon>
            <span>Configure Transition</span>
        </button>
        <button mat-menu-item class="menuItem" (click)="openFormBuilder()" *ngIf="isEdit()">
            <mat-icon>edit</mat-icon>
            <span>Edit form</span>
        </button>
        <button mat-menu-item class="menuItem" (click)="openFormBuilder()" *ngIf="!isEdit()">
            <mat-icon>add</mat-icon>
            <span>Create form</span>
        </button>
        <button mat-menu-item class="menuItem" (click)="manageRoles()">
            <mat-icon>people</mat-icon>
            <span>Manage Permissions</span>
        </button>
        <button mat-menu-item class="menuItem" (click)="manageActions()">
            <mat-icon>code</mat-icon>
            <span>Edit actions</span>
        </button>
    </div>
</div>
<div id="modelCtxMenu" #modelCtxMenu>
    <div class="menuContent">
        <button mat-menu-item class="menuItem" (click)="openSideNav()">
            <mat-icon>settings</mat-icon>
            <span>Configure Model</span>
        </button>
        <button mat-menu-item class="menuItem" (click)="manageProcessPermissions()">
            <mat-icon>people</mat-icon>
            <span>Manage Process Permissions</span>
        </button>
    </div>
</div>
<nab-fast-mode-context #fastPnContextMenu></nab-fast-mode-context>
